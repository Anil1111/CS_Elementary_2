# Очереди, стеки, дженерики

- Описание принципов работы классических коллекций: стека и очереди. Реализация данных коллекций при помощи List. Замечания по эффективности текущей реализации.
- Реализация очереди на связных списках. Эффективность реализации в сравнении с очередью на простом списке.
- Проблемы при реализации универсальной очереди: даункаст и другие ошибки. Дженерики. (Очередь - достаточно сложная структура данных, и хочется сделать ее сразу для всех типов очередь чисел, строк, и т.д., а не переписывать для каждого типа данных. Простейшее решение - хранить value в виде object).
- Очередь как дженерик-класс. Решение проблем даункаста с использованием дженериков.

Резюме

· Обобщение – элемент кода, способный адаптироваться для выполнения общих (сходных) действий над различными типами данных.
· Универсальные шаблоны были добавлены в язык C# версии 2.0 и среду CLR. Эта возможность CTS (Common Type System — общая система типов), названа обобщениями (generics).
· Обобщения обеспечивают большую производительность, так как не происходит операции "упаковки-распаковки"(boxing-unboxing).
· Обобщения обеспечивают безопасность типов, так как могут содержать только типы, которые Вы задаете при объявлении.
· Обобщения позволяют создавать открытые (open-ended) типы, которые преобразуются в закрытые во время выполнения.  
· Идентификатор <T> – это указатель места заполнения, вместо которого подставляется любой тип.
· Перегрузки обобщенных типов различаются количеством параметров типа, а не их именами. Правильная перегрузка:  MyClass<T>{ }, MyClass<T,R>{ }
· Пример открытого типа: MyClass<T>
· Пример закрытого типа: MyClass<int>
· Каждый закрытый тип получает свою собственную копию набора статических полей.

· Общие сведения об универсальных шаблонах:

    1) Используйте универсальные типы для достижения максимального уровня повторного использования кода, безопасности типа и производительности.
    2) Наиболее частым случаем использования универсальных шаблонов является создание классов коллекции.
    3) Можно создавать собственные универсальные интерфейсы, классы, методы, события и делегаты.
    4) Доступ универсальных классов к методам можно ограничить определенными типами данных.

· Ковариантность обобщений – upcast параметров типов.
· Контрвариантность обобщений – downcast параметров типов.
· Ковариантность и контрвариантность обощений в языке С# ограничена делегатами и интерфейсами.
· Ключевое слово default применяется для установки значения по умолчанию для параметра типа.
· Тип Nullable<T> представляет типы значений с пустыми (нулевыми) значениями.